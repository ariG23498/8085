;Implement 180 degree pendulum by stepper

MVI A,80H
OUT CSR
LOOP3: MVI C 19H
LOOP: MVI A,EEH
OUT PORT C
CALL DELAY
MVI A,DDH
OUT PORT C
CALL DELAY
MVI A,BBH
OUT PORT C
CALL DELAY
MVI A,77H
OUT PORT C
CALL DELAY
DCR C
JNZ LOOP
MVI C 19H
LOOP2: MVI A,EEH
OUT PORT C
CALL DELAY
MVI A,77H
OUT PORT C
CALL DELAY
MVI A,BBH
OUT PORT C
CALL DELAY
MVI A,DDH
OUT PORT C
CALL DELAY
DCR C
JNZ LOOP2
JMP LOOP3
HLT

DELAY: LXI H,1FFFH
LD: DCX H
MOV A,L
ORA H
JNZ LD
RET
